@startuml
left to right direction
skinparam packageStyle rectangle
title GUI Package

package "GUI" {

  abstract class Controller {
    - Controller(navigator : ScreenNavigator)
    + showAlert(title : String, headerText : String, contentText : String, confirmText : String, cancelText : String, confirmCssClass : String) : boolean
    + onLoadFailed(e : Exception) : void
    + saveState() : void
    + restoreState() : void
  }

  class ScreenNavigator {
    + ScreenNavigator(stage : Stage)
    + launch(controller : Controller) : void
  }

  class FXAppEntry {
    + start(primaryStage : Stage) : void
  }
  FXAppEntry -up-|> Application
  FXAppEntry *-- ScreenNavigator
  hide Application

  class AccountController {
    + AccountController(navigator : ScreenNavigator)
    - initialize() : void
    - setUpChartsAndStats() : void
    + onLoadFailed(e : Exception) : void
  }

  class LoadingController {
    + LoadingController(navigator : ScreenNavigator, user : User)
    - initialize() : void
    - startMatchmaking() : void
  }

  class TrailsController {
    + TrailsController(navigator : ScreenNavigator)
    - initialize() : void
    - updateTrailsDisplay(trails : List<Trail>) : void
  }

  class ViewTrailController {
    + ViewTrailController(navigator : ScreenNavigator, trail : Trail)
    - initialize() : void
    - setupEventHandlers() : void
  }

  class DashboardController {
    + DashboardController(navigator : ScreenNavigator)
    - initialize() : void
    - createAndAddTrailCard(trail : Trail) : void
      }

  class WelcomeController {
    + WelcomeController(navigator : ScreenNavigator)
    - initialize() : void
  }

  class LogBookController {
    + LogBookController(navigator : ScreenNavigator)
    - initialize() : void
    - updateLogsDisplay(logs : List<TrailLog>) : void
  }

  class LogTrailController {
    + LogTrailController(navigator : ScreenNavigator, trail : Trail)
    - initialize() : void
    - setupFormFields() : void
    - populateFields() : void
    - clearErrors() : void
  }

  class ModifyTrailController {
     + ModifyTrailController(navigator : ScreenNavigator, trail : Trail)
     - initialize() : void
     - setupFormFields() : void
     - setupEventHandlers() : void
     - userInputValidation : boolean
  }

  class SafetyInfoController {
    +SafetyInfoController(navigator : ScreenNavigator)
  }

  class ProfileQuizController {
    + ProfileQuizController(navigator : ScreenNavigator, quizId : int, user User)
    - initialize() : void
    - setProgressBar() : void
    - setQuestionLabel() : void
  }

  class ProfileSetupGeneralController {
    + ProfileSetupGeneralController(navigator : ScreenNavigator)
    - initialize() : void
    - setUserPreferences() : boolean
  }

  Controller <|-- DashboardController
  Controller <|-- TrailsController
  Controller <|-- WelcomeController
  Controller <|-- ProfileQuizController
  Controller <|-- ProfileSetupGeneralController
  Controller <|-- LogBookController
  Controller <|-- ViewTrailController
  Controller <|-- LoadingController
  Controller <|-- AccountController
  Controller <|-- SafetyInfoController
  Controller <|-- ModifyTrailController
  Controller <|-- LogTrailController

  package "components" {
    class TrailCardComponent {
      + TrailCardComponent(isUnmatched boolean, isSingle boolean, logMode boolean, navigator ScreenNavigator)
      + setData(trail : Trail, log TrailLog) : void
    }

    class NavbarComponent {
      + NavbarComponent(navigator : ScreenNavigator, userService : UserService)
      + setPage(pageIndex : int) : void
    }

    class LegendLabelComponent {
      +LegendLabelComponent(tag : String)
    }

    class WeatherComponent {
      + WeatherComponent(weather : Weather)
      - populateWeatherData(weather : Weather)
    }
  }

  package "utils" {
     class BackgroundImageUtil {
     }
    }

  NavbarComponent --> DashboardController
  NavbarComponent --> TrailsController

  DashboardController -- TrailCardComponent
  TrailsController -- TrailCardComponent

  ScreenNavigator o-- Controller
  Controller *-- NavbarComponent
  ViewTrailController *-- LegendLabelComponent
  ViewTrailController --> TrailCardComponent
  ViewTrailController --> WeatherComponent
  LoadingController --> BackgroundImageUtil
  ProfileSetupGeneralController --> BackgroundImageUtil
  ProfileQuizController --> BackgroundImageUtil
  WelcomeController --> BackgroundImageUtil


}
@enduml