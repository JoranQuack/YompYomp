@startuml
left to right direction
title YompYomp UML Class Diagram - Architecture and Package View

package "Application" {
  class FXAppEntry
  class App
}

package "Models" {
  class Trail
  class User
  enum Question
  class TrailLog
  class Weather
}

package "Service" {
  class LogService
  class AccountStatisticsService
  class SearchService
  class UserService
  class MatchMakingService
  class RegionFinder
  class ImageService
  class WeatherService
  class TrailService
  class DashboardService
  class SetupService
}

package "DataAccess (SQLite DB)" {
  class FileBasedTrailRepo
  class FileBasedKeywordRepo
  class SqlBasedFilterOptionsRepo
  class SqlBasedKeywordRepo
  class SqlBasedTrailRepo
  class SqlBasedTrailLogRepo
  class DatabaseService
}

package "GUI" {
  class AccountController
  class LogBookController
  class LogTrailController
  class ModifyTrailController
  class ScreenNavigator
  abstract class Controller
  class WelcomeController
  class DashboardController
  class LoadingController
  class ProfileQuizController
  class ProfileSetupGeneralController
  class TrailsController
  class ViewTrailController
  class SafetyInfoController
  class JavaScriptBridge
  package "Components" {
    class NavbarComponent
    class TrailCardComponent
    class WeatherComponent
  }
}

package "util" {
    class AppDataManager
    class DifficultyParser
    class GeoUtils
    class TrailsProcessor
    }

'skinparam linetype ortho

'Controller relationships
FXAppEntry *-- ScreenNavigator
ScreenNavigator o-- Controller

'Inheritence with the abstract controller class
Controller <|-- WelcomeController
Controller <|-- ProfileSetupGeneralController
Controller <|-- ProfileQuizController
Controller <|-- DashboardController
Controller <|-- TrailsController
Controller <|-- LogBookController
Controller <|-- ViewTrailController
Controller <|-- LoadingController
Controller <|-- AccountController
Controller <|-- LogTrailController
Controller <|-- SafetyInfoController
Controller <|-- ModifyTrailController

Controller *-- NavbarComponent

App *-- SetupService
App *-- DatabaseService
App *-- SqlBasedFilterOptionsRepo
App *-- SqlBasedTrailRepo
App *-- SqlBasedTrailLogRepo
App *-- SqlBasedKeywordRepo
App *-- UserService

SqlBasedFilterOptionsRepo --> RegionFinder

ProfileQuizController --> UserService
TrailCardComponent --> ImageService
JavaScriptBridge --> TrailService

TrailsProcessor ..> GeoUtils
TrailsProcessor ..> DifficultyParser


SetupService ..> TrailsProcessor
SetupService ..> AppDataManager
SetupService ..> FileBasedKeywordRepo
SetupService ..> SqlBasedKeywordRepo
SetupService ..> FileBasedTrailRepo
SetupService ..> SqlBasedFilterOptionsRepo

MatchMakingService --> User
MatchMakingService --> Trail
SearchService --> Trail
ProfileQuizController --> Question
WeatherService --> Weather
WeatherComponent --> Weather
UserService --> User
LogService --> TrailLog
AccountStatisticsService --> User

DashboardController --> DashboardService

App ..> FXAppEntry
@enduml