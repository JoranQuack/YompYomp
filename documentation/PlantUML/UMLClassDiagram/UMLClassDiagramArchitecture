@startuml
left to right direction
title YompYomp UML Class Diagram - Architecture and Package View

package "Application" {
  class FXAppEntry
  class App
}

package "Models" {
  class Trail
  class User
  enum Question
  class TrailLog
  class Weather
}

package "Service" {
  class AccountStatisticsService
  class SetupService
  class SearchService
  class UserService
  class MatchMakingService
  class RegionFinder
  class ImageService
  class WeatherService
  class LogService
}

package "DataAccess (SQLite DB)" {
  interface ITrail
  interface IKeyword
  interface ITrailLog
  class FileBasedTrailRepo
  class FileBasedKeywordRepo
  class SqlBasedFilterOptionsRepo
  class SqlBasedKeywordRepo
  class SqlBasedTrailRepo
  class SqlBasedLogRepo
  class DatabaseService
}

package "GUI" {
  class AccountController
  class LogBookController
  class LogTrailController
  class ModifyTrailController
  class ScreenNavigator
  abstract class Controller
  class WelcomeController
  class DashboardController
  class LoadingController
  class MatchmakingController
  class ProfileQuizController
  class ProfileSetupGeneralController
  class TrailsController
  class ViewTrailController
  class SafetyInfoController
  package "Components" {
    class LegendLabelComponent
    class NavbarComponent
    class TrailCardComponent
    class WeatherComponent
  }
  package "util" {
    class BackgroundImageUtil
    }
}

'skinparam linetype ortho

'Controller relationships
FXAppEntry --> ScreenNavigator
ScreenNavigator ..> Controller

'Inheritence with the abstract controller class
Controller <|-- WelcomeController
Controller <|-- ProfileSetupGeneralController
Controller <|-- MatchmakingController
Controller <|-- ProfileQuizController
Controller <|-- DashboardController
Controller <|-- TrailsController
Controller <|-- LogBookController
Controller <|-- ViewTrailController
Controller <|-- LoadingController
Controller <|-- AccountController
Controller <|-- LogTrailController
Controller <|-- SafetyInfoController
Controller <|-- ModifyTrailController

Controller ..> NavbarComponent
Controller ..> TrailCardComponent

App ..> SetupService
TrailsController ..> SearchService
ProfileSetupGeneralController ..> UserService
ProfileQuizController ..> UserService
MatchmakingController ..> MatchMakingService
DashboardController ..> SearchService
WelcomeController ..> UserService
NavbarComponent ..> ImageService
LogBookController ..> LogService
TrailsController ..> WeatherService
ViewTrailController ..> RegionFinder
ViewTrailController ..> WeatherService

SearchService ..> ITrail
SetupService ..> ITrail
SetupService ..> IKeyword
LogService ..> SqlBasedLogRepo
LogService ..> ITrail

ITrail <|.. FileBasedTrailRepo
ITrail <|.. SqlBasedTrailRepo
IKeyword <|.. FileBasedKeywordRepo
IKeyword <|.. SqlBasedKeywordRepo
ITrailLog <|.. SqlBasedLogRepo

UserService ..> User
MatchMakingService ..> User
MatchMakingService ..> Trail
SearchService ..> Trail
SetupService ..> Trail
ProfileQuizController ..> Question
WeatherService ..> Weather
UserService ..> Trail
RegionFinder ..> Trail
LogService ..> TrailLog
LogService ..> Trail
AccountStatisticsService ..> TrailLog
AccountStatisticsService ..> Trail
AccountStatisticsService ..> User

App ..> FXAppEntry
@enduml